{% extends 'FqBundle::base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {{ form_stylesheet(form) }}
{% endblock %}

{% block body %}
    {#<div class="modal fade" id="createCategoryPopup" tabindex="-1" role="dialog" aria-labelledby="createCategoryPopup" aria-hidden="true">#}
        {#<div class="modal-dialog">#}
            {#<div class="modal-content">#}
                {#<div class="modal-header">#}
                    {#<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>#}
                    {#<h4 class="modal-title" id="myModalLabel">Создание категории</h4>#}
                {#</div>#}
                {#<div class="modal-body">#}
                    {#<div class="container">#}
                        {#<form class="form-horizontal" role="form" action="#">#}
                            {#<div class="form-body">#}
                                {#<div class="form-group">#}
                                    {#<label for="category_name" class="col-md-2 control-label">Название</label>#}
                                    {#<div class="col-md-4">#}
                                        {#<input type="text" class="form-control" id="category_name"/>#}
                                    {#</div>#}
                                {#</div>#}
                                {#&#123;&#35;<div class="form-group">&#35;&#125;#}
                                    {#&#123;&#35;<label for="category_icon" class="col-md-2 control-label">Иконка</label>&#35;&#125;#}
                                    {#&#123;&#35;<div class="col-md-4">&#35;&#125;#}
                                        {#&#123;&#35;<input type="text" class="form-control" id="category_icon"/>&#35;&#125;#}
                                    {#&#123;&#35;</div>&#35;&#125;#}
                                {#&#123;&#35;</div>&#35;&#125;#}
                            {#</div>#}
                        {#</form>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="modal-footer">#}
                    {#<button type="button" class="btn btn-default" data-dismiss="modal">Отменить</button>#}
                    {#<button type="button" class="btn btn-primary" data-role="create_category" data-url="{{ url('save_category') }}">Создать</button>#}
                {#</div>#}
            {#</div>#}
        {#</div>#}
    {#</div>#}
    <div class="container">

        <div class="row">

            <div class="col-md-12">

                <div class="well">

                    <form class="form-horizontal" role="form" action="{{ path('event_save') }}" method="POST" {{ form_enctype(form) }}>

                        <div class="page-header">

                            <h1>Создать событие</h1>

                        </div><!-- end page-header -->

                        {{ form_errors(form) }}

                        <div class="form-body">

                            <div class="form-group">
                                <label for="image" class="col-md-2 control-label">Картинка</label>
                                <div class="col-md-4">
                                    {{ form_widget(form.image) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="title" class="col-md-2 control-label">Название</label>
                                <div class="col-md-4">
                                    {{ form_widget(form.title, { 'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="description" class="col-md-2 control-label">Время</label>
                                <div class="col-md-8">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="endtime" hidden="hidden">
                                                Начало
                                            </div>
                                            {{ form_widget(form.schedule, { 'attr': {'class': 'form-control'}}) }}
                                        </div>
                                        <div class="col-md-6">
                                            <a href="#" onclick="$('.endtime').show(); $(this).hide(); return false;">
                                                Добавить время окончания
                                            </a>
                                            <div class="endtime" hidden="hidden">
                                                Конец {{ form_widget(form.endTime, { 'attr': {'class': 'form-control'}}) }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="description" class="col-md-2 control-label">Подробности</label>
                                <div class="col-md-4">
                                    {{ form_widget(form.description, { 'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="category" class="col-md-2 control-label">Категория</label>
                                <div class="col-md-4">
                                    {{ form_widget(form.category, { 'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="well"><!-- Location controls start-->
                                <div class="form-group">
                                    <label for="address" class="col-md-2 control-label">Место</label>
                                    <div class="col-md-4">
                                        <select id="location_type" class="form-control">
                                            <option value="address">Адрес</option>
                                            <option value="route">Маршрут</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-10 col-md-offset-2">
                                        <div class="row">
                                            <div class="col-md-7">
                                                <div id="map" style="height: 200px; background-color: #CCC;"></div>
                                            </div>
                                            <div class="col-md-5" id="map-info">
                                                <p id="firstLocation"></p>
                                                <div hidden="hidden" id="arrowLocation" class="col-md-offset-3">
                                                    <span class="glyphicon glyphicon-download" style="font-size: 2.0em;"></span>
                                                </div>
                                                <p id="secondLocation"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-4 col-md-offset-2">
                                        <div class="input-group address-control">
                                              <input type="text" class="form-control" id="address_field" placeholder="Найти адрес...">
                                              <span class="input-group-btn">
                                                    <button class="btn btn-default glyphicon glyphicon-search" id="search_address" type="button"></button>
                                              </span>
                                        </div>
                                        <div class="col-md-8 route-control" hidden="hidden">
                                            <a href="#" id="clear_route">Очистить маршрут</a>
                                        </div>
                                    </div>
                                </div>
                            </div><!-- Location controls end-->

                            <div class="form-group">
                                <div class="col-md-10 col-md-offset-2">
                                    {{ form_widget(form.save, { 'attr': {'class': 'btn btn-primary'}}) }}
                                </div>
                            </div>
                            {{ form_rest(form) }}
                        </div>

                    </form>
                </div><!-- end well -->

            </div>

        </div>

    </div><!-- end main container -->
{% endblock %}

{% block javascripts %}

    {{ parent() }}

    <script type="application/javascript" src="{{ asset('bundles/fq/js/event_create.js') }}"></script>

    {{ form_javascript(form) }}

{% endblock %}
